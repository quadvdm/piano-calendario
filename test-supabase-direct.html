<!DOCTYPE html>
<html>
<head>
    <title>Test Supabase Directo</title>
</head>
<body>
    <h1>Test Supabase sin onclick</h1>
    <button id="loginBtn">Login Google</button>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        console.log('=== INICIANDO TEST SUPA BASE ===');
        
        // 1. Crear cliente
        const supabase = window.supabase.createClient(
            'https://yhwtlbcckdegbggjaems.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlod3RsYmNja2RlZ2JnZ2phZW1zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5NDQyODIsImV4cCI6MjA4MTUyMDI4Mn0.ab35WTtpZGJ4VP-3Dkr0SdQN5hK5ZC5uxeVLJiarWs8'
        );
        
        console.log('Cliente Supabase creado:', supabase ? '‚úÖ' : '‚ùå');
        
        // 2. Event listener directo
        document.getElementById('loginBtn').addEventListener('click', async function() {
            console.log('üîµ Bot√≥n clickeado - iniciando login');
            
            try {
                const { error } = await supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo: 'https://lovely-lamington-133500.netlify.app'
                    }
                });
                
                if (error) {
                    console.error('‚ùå Error OAuth:', error);
                    alert('Error: ' + error.message);
                } else {
                    console.log('‚úÖ Redirecci√≥n iniciada');
                    alert('Redirigiendo a Google...');
                }
            } catch (err) {
                console.error('‚ùå Error inesperado:', err);
                alert('Error inesperado: ' + err.message);
            }
        });
        
        console.log('‚úÖ Setup completo - bot√≥n listo');
    </script>
</body>
</html>
